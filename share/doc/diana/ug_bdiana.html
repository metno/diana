<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Diana User Guide: Batch plotting of Diana-products</title>
  </head>

  <body>

<table border="0" cellpadding="3" cellspacing="0" width="100%" >
<tr bgcolor="lightgrey">
<td valign="middle">&nbsp;Diana User Guide: Batch
plotting&nbsp;|&nbsp;
<a href="ug_fileformats.html">Previous: File formats</a>&nbsp;|&nbsp;
<a href="index.html">Index</a></td>
<td valign="middle" align="right"><img src="diana_logo.png" align="right" border="0"></td>
</tr>
</table>

    <p>

    <h2><a NAME="Batch plotting"></a>Batch plotting of Diana-products</h2>
    
    Use a separate program, <b>bdiana</b>, to batch plot <i>Diana</i> products. 
    This is a command line program controlled by a separate input file (in 
    addition to the normal setup file for <i>Diana</i>). <b>bdiana</b> can plot 
    all map products in <i>Diana</i>, <i>vertical cross sections</i>, 
    <i>vertical profiles</i> and <i>wave spectrum plots</i>.
    Please run the program without any parameters to see the commandline options.
    <p>

    <h3>Time control</h3>
    The plot time is initially set with the command line argument 
    <b>TIME="YYYY-MM-DD hh:mm:ss"</b>. In addition the time can be modified in 
    the input file with the commands <b>settime</b>, <b>addhour</b>
    and <b>addminute</b> (see documentation below)
    
    <h3>Input file</h3>
    Please run the program with <b>-example</b> in the command line to get a complete
    example of an input file. If you are trying out diana for the
    first time, a good idea could be to send this text to a file
    (<b>bdiana -example > bdiana.input</b>) - this is a good starting point for 
    making your own input file.<br>
    The example file contains plot commands, various choices for output format 
    and some examples of job control with <b>lists</b> and <b>loops</b>. All 
    syntax is described in the comments.
    <h3>Plot settings</h3>
<p>
    <a NAME="PLOTSETTINGS.AREA"></a>
    <b> Area (Those marked with * can only be used in bdiana)</b>
<br><br>
<b>Examples:</b> <br>
AREA name=Atlant <br>
AREA name=Atlant rectangle=4.0e+06:8.0e06:4.0e+06:6.0e06<br>
AREA proj4string="+proj=ob_tran +o_proj=eqc +lon_0=0 +o_lat_p=25
+x_0=5.14744e+06 +y_0=4.03549e+06 +a=6371000.0 +b=6371000.0"
rectangle=4.0e+06:8.0e06:4.0e+06:6.0e06<br>
<p>
    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>Area by name</td><td>name=Atlant</td><td>Area defined in setup file</td></tr>
	<tr><td>projection*</td><td>proj4string="+proj=.." </td><td><br></td></tr>
	<tr><td>rectangle*</td><td>rectangle=x1:x2:y1:y2</td><td>in proj coordinates</td></tr>
    </TABLE><p>

    <a NAME="PLOTSETTINGS.MAPS"></a>
    <b> Maps (Those marked with * can only be used in bdiana)</b>
<br>
    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>Background colour</td><td>backcolour=black</td><td>All colours</td></tr>
	<tr><td>Force area*</td><td>xylimit=x1,x2,y1,y2</td><td>Set new corner values</td></tr>
	<tr><td>Force area*</td><td>xypart=x1%,x2%,y1%,y2%</td><td>Set new corner values as percent of width/height</td></tr>
	<tr><td>Map name</td><td>map=Euro1</td><td>maps defined in setup file</td></tr>
	<tr><td>Plot contour line</td><td>contour=ON</td><td>ON | OFF</td></tr>
	<tr><td>contour colour</td><td>cont.colour=black</td><td>All colours</td></tr>
	<tr><td>contour linewidth</td><td>cont.linewidth=1</td><td></td></tr>
	<tr><td>contour linetype</td><td>cont.linetype=solid</td><td>linetypes defined in setup file</td></tr>
	<tr><td>contour zorder</td><td>cont.zorder=0</td><td>0,1,2 (lowest, Auto, Highest)</td></tr>
	<tr><td>Plot filled land</td><td>land=ON</td><td>ON | OFF</td></tr>
	<tr><td>land colour</td><td>land.colour=black</td><td>All colours</td></tr>
	<tr><td>land zorder</td><td>land.zorder=0</td><td>0,1,2 (lowest, Auto, Highest)</td></tr>
	<tr><td>Plot latlon line</td><td>latlon=ON</td><td>ON | OFF</td></tr>
	<tr><td>latlon colour</td><td>latlon.colour=black</td><td>All colours</td></tr>
	<tr><td>latlon linewidth</td><td>latlon.linewidth=1</td><td></td></tr>
	<tr><td>latlon linetype</td><td>latlon.linetype=solid</td><td>linetypes defined in setup file</td></tr>
	<tr><td>latlon zorder</td><td>latlon.zorder=0</td><td>0,1,2 (lowest, Auto, Highest)</td></tr>
	<tr><td>Plot frame</td><td>frame=ON</td><td>ON | OFF | 2 | 3 (ON and OFF are equivalent to 1 and 0;<br>
                                                    2 fills the frame with the background colour,
                                                    3 fills the frame with the background colour and draws a border)</td></tr>
	<tr><td>frame colour</td><td>frame.colour=black</td><td>All colours</td></tr>
	<tr><td>frame linewidth</td><td>frame.linewidth=1</td><td></td></tr>
	<tr><td>frame linetype</td><td>frame.linetype=solid</td><td>linetypes defined in setup file</td></tr>
	<tr><td>frame zorder</td><td>frame.zorder=0</td><td>0,1,2 (lowest, Auto, Highest)</td></tr>
    </TABLE><p>
      
    <a NAME="PLOTSETTINGS.ANNOTATIONS"></a>
    <b> Labels (Those marked with * can only be used in
    bdiana)</b>
<br>
    <TABLE BORDER="1">
	<tr><th><b>Example </b><th><b>Explanation</b></tr>
	<tr><td><code>LABEL data options</code> </td>
	  <td>ask all plots for annotation string and text colour</td></tr>
	<tr><td><code>LABEL text="some text" options</code></td>
	  <td>simple text</td></tr>
	<tr><td><code>LABEL anno=&lt;...&gt; options</code></td>
	  <td>more complex annotations</td></tr>
    </TABLE>

<p>


<b>General options (used for the whole label)</b> 


    <TABLE BORDER="1">
	<tr><th><b>Option </b><th><b>Explanation</b></tr>
	<tr><td>tcolour</td><td> text colour</td></tr>
	<tr><td>bcolour</td><td> border colour </td></tr>
	<tr><td>fcolour</td><td> fill colour</td></tr>
	<tr><td>polystyle</td><td> fill area and or draw border -fill/border/none/both</td></tr>
	<tr><td>halign</td><td> horizontal alignment - right/left/center</td></tr>
	<tr><td>valign</td><td> vertical alignment -top/bottom/center</td></tr>
	<tr><td>xoffset</td><td> ratio (offset)/(frame width)-left if center or right aligned, right if left aligned</td></tr>
	<tr><td>yoffset</td><td> ratio (offset)/(frame height)- down if center or top aligned, up if bottom aligned</td></tr>
	<tr><td>xratio</td><td> ratio (annotation width)/(frame width)
	    -scales annotation when zooming in/out</td></tr>
	<tr><td>yratio</td><td> ratio (annotation height)/(frame height)
	    -scales annotation when zooming in/out</td></tr>
	<tr><td>margin</td><td>ratio (distance to border of label)/(frame height)</td></tr>
	<tr><td>font </td><td><br></td></tr>
	<tr><td>fontsize </td><td><br></td></tr>
	<tr><td>face</td><td>font face</td></tr>
      <tr><td>yclinewidth</td><td>border width </td></tr>
      <tr><td>plotrequested</td><td> if true, annotations aligned rel. to frame (not window) </td></tr>
    </TABLE>

<p>


<b>Complex annotations</b>
<br>
<br>

One <code>LABEL</code> may consist of many <code>anno</code> statements. One <code>anno</code> may consist of many elements and options.
Each element and option are written in &lt;...&gt;.
Syntax: anno=&lt;..&gt;&lt;...&gt;&lt;...&gt; (no space between elements/options)
The elements are plotted side by side vertically.
<br><br>

<b>Elements</b>

      <TABLE BORDER="1">
	  <tr><th><b>Option </b><th><b>Syntax</b><th><b>Explanation</b>
	  <tr><td> box </td>
	    <td><code>&lt;box, options&gt;&lt;..&gt;&lt;..&gt;&lt;/box&gt;</code></td>
	    <td>box is recursive, and may contain other elements even box</td></tr>
	  <tr><td><br></td><td><br></td><td>vertical - horizontal,pstyle,fcolour,bcolour,tcolour
	    </td></tr> 
	  <tr><td>image</td>
	    <td><code>&lt;image=pic.png,options&gt;</code></td>
	    <td>size</td></tr>
	  <tr><td>text</td>
	    <td><code>&lt;text="Testing testing",options&gt;</code></td>
		  <td>Quotation marks are only needed when the text
		  contains space, font,fontsize,face</td></tr>
	  <tr><td>symbol</td>
	    <td><code>&lt;symbol=....,options&gt;</code></td>
	    <td>size
	    </td></tr>
	  <tr><td>table</td>
	    <td><code>&lt;table,options&gt;</code></td>
	    <td>All fieldPlots and satPlots are asked for a table, if they have, it is plotted
	  </td></tr>
	<tr><td><br></td><td><code> &lt;table=name,options&gt;</code></td>
<td>All fieldPlots and satPlots are asked if they a table named "name", 
if they have, it is plotted</td></tr>
<tr><td><br></td><td><code> &lt;table="HIRLAM.20KM.00 T.2M;255:75:75;;6 - 8;255:150:150;;4 - 6;255:215:215;;2 - 4;255:245:245;;0 - 2",options&gt;</code></td>
<td>Exactly this table plotted independent of data</td></tr>
<tr><td><br></td><td><br></td><td> title - if dropped, title from data.<br> title="" - no title</td></tr>
<tr><td><br></td><td><br></td><td> options:fcolour</td></tr>
<tr><td>arrow</td>
<td><code> &lt;arrow&gt;</code></td>
<td>All vector and observation plots are asked for a unit arrow length, 
if any, arrows are plotted</td></tr>

<tr><td><br></td><td><code> &lt;arrow=1.3,feather=true,tcolour=red&gt;</code></td>
<td>Arrow of length 1.3 with feathers is plotted in red.
Possible options:
tcolour,feather</td></tr>
<tr><td>input</td><td><br></td><td></td></tr>
    </TABLE><p>

      
    <a NAME="PLOTSETTINGS.FIELDS"></a>
    <b> Fields (Those marked with * can only be used in bdiana)</b>

      <pre>
      FIELD X Y  options #X:model
                         #Y:field

    </pre>    

<p>
Example:
<pre>
FIELD HIRLAM.20KM.00 MSLP colour=blue linetype=solid linewidth=1 

</pre>

    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>colour of isoline</td><td>colour=black</td><td><i>colour</i></td></tr>
	<tr><td>line type<td>linetype=solid<td><i>line type</i></td></tr>
	<tr><td>line width<td>linewidth=1<td><i>number</i></td></tr>
	<tr><td>line interval</td><td>line.interval=1</td><td><br></td></tr>
	<tr><td>density of wind/vectors</td><td>density=0</td><td>1:
	all arrows are plotted <br>
        0 or auto: density automaticlly adjusts to fit the zoom level<br>
	Auto(2):  density automaticlly adjusts to fit the zoom level, but more arrows are plotted <br>
        -1: auto, but all gridpoints are used to find best density, not only current rectangle. Ensures that all tiles have same density.
        </td></tr>
	<tr><td>density of
	wind/vectors</td><td>density.factor=1</td><td>density.factor=2
	is equivalent to density=Auto(2)</td></tr>
	<tr><td> unit (length) of vector<br>or size ov wind arrows</td><td>vector.unit=10</td><td></td></tr>
	<tr><td>extreme types</td><td>extreme.type=None</td><td>C/H, L/H</td></tr>
	<tr><td>size of extreme labels</td><td>extreme.size=1</td><td><br></td></tr>
	<tr><td>density of extreme labels</td><td>extreme.radius=1</td><td></td></tr>
	<tr><td>value written on isoline</td><td>value.label=1</td>
	  <td>0=no label/ 1=label</td></tr>
	<tr><td>isoline smooth</td><td>line.smooth=0</td><td>0=no smooth</td></tr>
	<tr><td>field smmoth</td><td>field.smooth=0</td><td>0=no smooth</td></tr>
	<tr><td>show grid lines</td><td>grid.lines=0</td><td></td></tr>
	<tr><td>show grid lines if numbers &lt; max</td>
	  <td>grid.lines.max=0</td><td></td></tr>
	<tr><td>time offset rel. to main plot time</td><td>hour.offset=0</td>
	  <td><i>hours</i></td></tr>
	<tr><td>max time difference from main plot time</td><td>hour.diff=0</td>
	  <td><i>hours</i></td></tr>
	<tr><td>mask undef values</td><td>undef.masking=0</td><td>0=off/1=on</td></tr>
	<tr><td>mask colour</td><td>undef.colour=white</td><td><i>colour</i></td></tr>
	<tr><td>mask line width</td><td>undef.linewidth=1</td><td></td></tr>
	<tr><td>mask line type</td><td>undef.linetype=solid</td><td><i>line type</i></td></tr>
	<tr><td>size of isoline labels</td><td>label.size=1</td><td></td></tr>
	<tr><td>show zeroline</td><td>zero.line=1</td><td>0=off/1=on</td></tr>
	<tr><td>legend on/off</td><td>table=0</td><td>0=off/1=on</td></tr>
	<tr><td>repeat colours</td><td>repeat=0</td><td>0=off/1=on</td></tr>
	<tr><td>palette from setup, colours or RGBA</td><td>palettecolours=off</td>
	  <td>palettecolours=some_palette <br>
	    palettecolours=red,green,blue,white <br>
	    palettecolours=255:255:255,100:100:100,200:200:200</td></tr>
	<tr><td>use fill patterns defined in setup</td><td>patterns=off</td>
	  <td>pattern=some_pattern</td></tr>
	<tr><td>alpha shading</td><td>alpha=255</td><td>0 - 255</td></tr>
	<tr><td>isoline offset</td><td>base=0</td><td><i>number</i></td></tr>
	<tr><td>skip isolines below </td><td>minvalue=off</td><td><i>off,number</i></td></tr>
	<tr><td>skip isolines above </td><td>maxvalue=off</td><td><i>off,number</i></td></tr>
	<tr><td>extra isolines</td><td>colour_2=off</td><td><i>off,colour</i></td></tr>
	<tr><td>extra isolines</td><td>line.interval_2=1</td><td></td></tr>
	<tr><td>extra isolines</td><td>linewidth_2=1</td><td></td></tr>
	<tr><td>extra isolines</td><td>linetype_2=1</td><td></td></tr>
	<tr><td>extra isolines</td><td>base_2=1</td><td></td></tr>
	<tr><td>extra isolines</td><td>minvalue_2=off</td><td></td></tr>
	<tr><td>unit</td><td></td><td>kelvin, celsius, hectopascal</td></tr>
    </TABLE><p>
  
    
    <a NAME="PLOTSETTINGS.OBSERVATIONS"></a>
    <b> Observations (Those marked with * can only be used in bdiana)</b>
    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>plot type</td><td>plot=</td><td>synop,metar,list,</td></tr>
	<tr><td>data type</td>
	  <td>data=</td><td>synop,dribu,metar
...</td></tr>
	<tr><td>parameter</td><td>parameter=</td><td>defined in ObsManager or
	ascii files</td></tr>
	<tr><td>colour</td><td>colour=black</td><td><i>colour</i></td></tr>
	<tr><td>min. distance to nearest neigbour</td><td>density=1</td><td><br></td></tr>
	<tr><td>font</td><td>font=Helvetica</td><td><br></td></tr>
	<tr><td>face</td><td>face=normal</td><td><br></td></tr>
	<tr><td>mark positions</td><td>image=</td><td>markers defined in setup</td></tr>
	<tr><td>reading all obs., mixing different files</td>
	  <td>moretimes=false</td><td>true/false</td></tr>
	<tr><td>plot positions only, no parameters</td>
	  <td>onlypos=false</td><td>true/false</td></tr>
	<tr><td>name of file with priority list</td>
	  <td>priority=</td><td>filename</td></tr>
	<tr><td>size of observation</td><td>scale=1</td><td><br></td></tr>
	<tr><td>all positions marked with x</td>
	  <td>showpos=true</td><td>true/false</td></tr>
	<tr><td>temperature in integers</td>
	  <td>tempprecision=false</td>
	  <td>true/false</td></tr>
	<tr><td>max time difference from main plot time</td>
	  <td>timediff=60</td><td>minutes</td></tr>
	<tr><td>criteria</td>
	  <td>criteria=</td><td>criteria=TTT&lt;0,blue;TTT&gt;0,red</td></tr>
    </TABLE><p>
      
    <a NAME="PLOTSETTINGS.IMAGES"></a>
    <b> Geo Images (Those marked with * can only be used in bdiana)</b>

      <pre>
      SAT X Y Z options #X: satellite/radar
                        #Y:file type
                        #Z:channels
    </pre>    

<p>
Example:
<pre>
SAT NOAA Europa 1+2+4 timediff=60 mosaic=0 cut=0.02 alphacut=0 alpha=1
</pre>


    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>max time difference from main plot time</td>
	  <td>timediff=60</td><td>minutes</td></tr>
	<tr><td>mosaic of several pictures</td>
	  <td>mosaic=0</td><td>0/1</td></tr>
	<tr><td>adjusting contrast</td><td>cut=0.02</td><td><br></td></tr>
	<tr><td>alpha shading</td><td>alpha=1</td><td>0-1</td></tr>
	<tr><td>drop pixels with low alpha value</td>
	  <td>alphacut=0 </td><td>0-1</td></tr>
	<tr><td>Legend on/off</td><td>Table=1</td><td>0/1</td></tr>
	<tr><td>colours to hide</td><td>hide=</td>
      <td>coloours (comma separated)</td></tr>
    </TABLE><p>
      
      <a NAME="PLOTSETTINGS.OBJECTS"></a>
    <b> Objects (Those marked with * can only be used in bdiana)</b>
    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Options w/default value</b><th><b>Example</b>
	<tr><td>File name</td><td>file</td><td>
	    file=/opdata/diana/Bakkeanalyse/DNMI-objects/DNMI_ANAdraw.200402110900</td></tr>
	<tr><td>Product name</td><td>name</td><td>name="DNMI Bakkeanalyse"</td></tr>
	<tr><td>Product time</td><td>time</td><td>time=200402110300</td></tr>
	<tr><td>Max. time difference</td><td>timediff=60</td><td>timediff=90</td></tr>
	<tr><td>Front line width*</td><td>frontlinewidth</td><td>frontlinewidth=4</td></tr>
	<tr><td>Symbol size*</td><td>fixedsymbolsize</td><td>fixedsymbolsize=16</td></tr>
	<tr><td>Symbol filter*</td><td>symbolfilter</td><td>symbolfilter=tekster</td></tr>
	<tr><td>Object types</td><td>types=front,symbol,area,anno</td><td>types=front,symbol
	  </td></tr>
    </TABLE><p>
    
    <a NAME="PLOTSETTINGS.TRAJECTORIES"></a>
    <b> Trajectories (Those marked with * can only be used in bdiana)</b>
    <TABLE BORDER="1">
	<tr><th><b>Explanation</b><th><b>Option w/default value</b><th><b>Values</b>
	<tr><td>start positions</td><td>latitudelongitude=</td><td></td></tr>
	<tr><td>colour</td><td>colour=black</td><td><i>colour</i></td></tr>
	<tr><td>line type<td>linetype=solid<td><i>line type</i></td></tr>
	<tr><td>line width<td>linewidth=1<td><i>number</i></td></tr>
	<tr><td>no. of subpositions</td><td>numpos=1</td><td>1,5,9</td></tr>
	<tr><td>dist. between subpositions</td>
	  <td>radius=50</td><td><i>number</i></td></tr>
	<tr><td>time marks on the trajectory</td>
	  <td>timemarker=0</td><td></td></tr>
	<tr><td>trajectory computed from field</td>
	  <td>field=</td><td>ex: field="HIRLAM.00 VIND.10M"</td></tr>

    </TABLE><p>
      
    
    <h3>Plot settings for vertical cross sections</h3>
    The data part of the plot command (<b>VCROSS ...</b> in
    <b>VCROSS.PLOT</b>) can be found by selecting the desired plot in 
    <i>diana</i>, when "<b>Apply</b>" is selected, <i>Diana</i> will print 
    the command in your terminal windows.<br>
    Detailed settings for the rest of the diagram are set inside the tags: 
    <b>#VCROSS.OPTIONS</b> and <b>#VCROSS.OPTIONS.END</b> or alternatively 
    directly in the <b>VCROSS.PLOT</b> section. Here is a complete list of these 
    options, including default value:<p>
      
	    
    <TABLE BORDER="1">
<tr><th><b>Explanation</b>      <th><b>Options w/default value</b>  <th><b>Values</b>
<tr><td>Show data text          <td>text=on                 <td>on/off
<tr><td>Colour of data text     <td>textColour=black        <td><i>colour</i>
<tr><td>Show frame w/values     <td>frame=on                <td>on/off
<tr><td>Frame colour            <td>frameColour=black       <td><i>colour</i>
<tr><td>Frame line type         <td>frameLinetype=solid     <td><i>line type</i>
<tr><td>Frame line width        <td>frameLinewidth=1        <td><i>number</i>
<tr><td>Show extended frame     <td>ExtFrame=off            <td>on/off
<tr><td>Mark level              <td>LevelMarks=on           <td>on/off
<tr><td>Numbers on levels       <td>LevelNumbers=on         <td>on/off
<tr><td>Show upper level        <td>UpperLevel=on           <td>on/off
<tr><td>Upper level line colour <td>upperLevelColour=black <td><i>colour</i>
<tr><td>Upper level line type   <td>upperLevelLinetype=solid<td><i>line type</i>
<tr><td>Upper level line width  <td>upperLevelLinewidth=1  <td><i>number</i>
<tr><td>Show lower level        <td>LowerLevel=on           <td>on/off
<tr><td>Lower level colour      <td>lowerLevelColour=black  <td><i>colour</i>
<tr><td>Lower level line type   <td>lowerLevelLinetype=solid<td><i>line type</i>
<tr><td>Lower level line width  <td>lowerLevelLinewidth=1 <td><i>number</i>
<tr><td>Show other levels       <td>OtherLevels=off         <td>on/off
<tr><td>Other levels colour     <td>otherLevelsColour=black <td><i>colour</i>
<tr><td>Other levels line type  <td>otherLevelsLinetype=solid<td><i>line type</i>
<tr><td>Other levels line width <td>otherLevelsLinewidth=1  <td><i>number</i>
<tr><td>Show surface            <td>Surface=on              <td>on/off
<tr><td>Surface colour          <td>surfaceColour=black     <td><i>colour</i>
<tr><td>Surface line type       <td>surfaceLinetype=solid   <td><i>line type</i>
<tr><td>Surface line width      <td>surfaceLinewidth=1      <td><i>number</i>
<tr><td>Show grid x,y           <td>XYpos=off               <td>on/off
<tr><td>Grid x,y colour         <td>xyposColour=black       <td><i>colour</i>
<tr><td>Geographic positions    <td>GeoPos=on               <td>on/off
<tr><td>Geographic position colour <td>geoposColour=black      <td><i>colour</i>
<tr><td>Vertical grid lines     <td>VerticalGridLines=off   <td>on/off
<tr><td>Vertical grid line colour <td>vergridColour=black     <td><i>colour</i>
<tr><td>Vertical grid line type <td>vergridLinetype=solid   <td><i>line type</i>
<tr><td>Vertical grid line width <td>vergridLinewidth=1     <td><i>number</i>
<tr><td>Extrapolate to fixed P  <td>extrapolateFixedLevels=off<td>on/off
<tr><td>Extrapolate to sea floor<td>extrapolateToBottom=on <td>on/off
<tr><td>Show pressure vertically <td>pressureVertical=off    <td>on/off
<tr><td>Fixed horiz./vert. ratio <td>keepVerHorRatio=on<td>on/off
<tr><td>Horiz./vert. ratio      <td>verHorRatio=150  <td><i>number</i>
<tr><td>Default vertical area   <td>stdVerticalArea=off   <td>on/off
<tr><td>Min. vertical area      <td>minVerticalArea=0       <td>0-100
<tr><td>Max. vertical area      <td>maxVerticalArea=100     <td>0-100
<tr><td>Default horizontal area <td>stdHorizontalArea=off<td>on/off
<tr><td>Min. horizontal area    <td>minHorizontalArea=0     <td><i>number</i>
<tr><td>Max. horizontal area    <td>maxHorizontalArea=100   <td><i>number</i>
<tr><td>Background colour       <td>backgroundColour=white  <td><i>colour</i>
</TABLE>

<br>
<b>Values:</b><br>
<ul>
 <li><i>line type</i>: line types are shown in the diana.setup file
 <li><i>colour</i> and <i>colour list</i>: colours are shown in the diana.setup file
</ul>


	<h3>Plot settings for vertical profiles</h3>
	  As for vertical cross sections detailed settings for plotting vertical 
	  profiles are set inside the tags: <b>#VPROF.OPTIONS</b> and
	  <b>#VPROF.OPTIONS.END</b>, alternatively directly in the <b>VPROF.PLOT</b> 
	  section. Here is a complete list of these options, including default 
	  value:<p>
	  
	
<TABLE BORDER="1">
<tr><th><b>Explanation</b>       <th><b>Options w/default value</b>  <th><b>Values</b>
<tr><td>Temperature           <td>tttt=on                 <td>on/off
<tr><td>Dew point             <td>tdtd=on                 <td>on/off
<tr><td>Wind                  <td>wind=on                 <td>on/off
<tr><td>Vertical wind (model) <td>vwind=off               <td>on/off
<tr><td>Relative humidity     <td>relhum=off              <td>on/off
<tr><td>Ducting               <td>ducting=off             <td>on/off
<tr><td>K-index               <td>kindex=on               <td>on/off
<tr><td>Significant wind (dd-ff)<td>slwind=off            <td>on/off
<tr><td>Datacolours           <td>dataColour=blue,red,
				  darkGreen,black,magenta,
				  darkGray,darkRed,darkCyan,
				  orange,darkMagenta      <td><i>colour list</i>
<tr><td>Data line widths      <td>dataLinewidth=3,3,3,3,3,3,3,3,3<td><i>number list</i>
<tr><td>Wind arrows line widths<td>windLinewidth=1,1,1,1,1,1,1,1,1<td><i>number list</i>
<tr><td>Separate wind column  <td>windseparate=on         <td>on/off
<tr><td>Text                  <td>text=on                 <td>on/off
<tr><td>Geographic position in text<td>geotext=on         <td>on/off
<tr><td>Limits for vertical wind (-X,X) <td>rvwind=0.01 <td><i>number hPa/s</i>
<tr><td>Limits for ducting (-X,0) <td>rducting=400<td><i>number</i>
<tr><td>Set number of text lines for station and time<td>linetext=0 <td>0=Not set
<tr><td>Background colour     <td>backgroundColour=white  <td><i>colour</i>
<tr><td>Diagram type          <td>diagramtype=0           <td>0=Amble 1=Exner(pi) 2=Pressure 3=ln(P)
<tr><td>The temperature lines angle vs. the vertical<td>tangle=45 <td><i>0-360</i>
<tr><td>Pressure reach min    <td>pminDiagram=100         <td><i>number</i>
<tr><td>Pressure reach max    <td>pmaxDiagram=1050        <td><i>number</i>
<tr><td>Min temp. at 1000 hPa <td>tminDiagram=-30         <td><i>(C)</i>
<tr><td>Max temp. at 1000 hPa <td>tmaxDiagram=30          <td><i>(C)</i>
<tr><td>Temperature limits    <td>trangeDiagram=0 <td>0=fixed 1=fixed.max-min 2=minimum
<tr><td>Show pressure lines   <td>plines=on               <td>on/off
<tr><td>Pressure lines at flight levels<td>plinesfl=off     <td>on/off
<tr><td>Pressure lines colour <td>pColour=black           <td><i>colour</i>
<tr><td>Pressure line type    <td>pLinetype=solid         <td><i>line type</i>
<tr><td>Pressure lines width 1<td>pLinewidth1=1      <td><i>number</i>
<tr><td>Pressure lines width 2<td>pLinewidth2=3      <td><i>number</i>
<tr><td>Show temperature lines<td>tlines=on               <td>on/off
<tr><td>Temperature line step <td>tStep=5                 <td><i>number</i>
<tr><td>Temperature line colour<td>tColour=black           <td><i>colour</i>
<tr><td>Temperature line type <td>tLinetype=solid     <td><i>line type</i>
<tr><td>Temperature line width 1<td>tLinewidth1=1  <td><i>number</i>
<tr><td>Temperature line width 2<td>tLinewidth2=3  <td><i>number</i>
<tr><td>Show dry adiabat      <td>dryadiabat=on           <td>on/off
<tr><td>Dry adiabat steps     <td>dryadiabatStep=10       <td><i>number</i>
<tr><td>Dry adiabat colour    <td>dryadiabatColour=black  <td><i>colour</i>
<tr><td>Dry adiabat line type <td>dryadiabatLinetype=solid<td><i>line type</i>
<tr><td>Dry adiabat line width<td>dryadiabatLinewidth=1<td><i>number</i>
<tr><td>Show wet adiabat      <td>wetadiabat=on           <td>on/off
<tr><td>Wet adiabat steps     <td>wetadiabatStep=5        <td><i>number</i>
<tr><td>Wet adiabat colour    <td>wetadiabatColour=darkRed<td><i>colour</i>
<tr><td>Wet adiabat line type <td>wetadiabatLinetype=solid<td><i>line type</i>
<tr><td>Wet adiabat line width<td>wetadiabatLinewidth=1<td><i>number</i>
<tr><td>Wet adiabat P min     <td>wetadiabatPmin=300      <td><i>number</i>
<tr><td>Wet adiabat T min     <td>wetadiabatTmin=-50      <td><i>number</i>
<tr><td>Show mixing ratio     <td>mixingratio=on       <td>on/off
<tr><td>Mixing ratio line set <td>mixingratioSet=1    <td>0/1/2/3
<tr><td>Mixing ratio colour   <td>mixingratioColour=magenta<td><i>colour</i>
<tr><td>Mixing ratio line type<td>mixingratioLinetype=longdash<td><i>line type</i>
<tr><td>Mixing ratio line width<td>mixingratioLinewidth=1<td><i>number</i>
<tr><td>Mixing ratio P min<td>mixingratioPmin=300     <td><i>number</i>
<tr><td>Mixing ratio T min<td>mixingratioTmin=-50     <td><i>number</i>
<tr><td>Show numbers for P    <td>labelp=on               <td>on/off
<tr><td>Show numbers for T        <td>labelt=on               <td>on/off
<tr><td>Show numbers for mixing ratio<td>labelq=on       <td>on/off
<tr><td>Show frame            <td>frame=on                <td>on/off
<tr><td>Frame colour          <td>frameColour=black       <td><i>colour</i>
<tr><td>Frame line type       <td>frameLinetype=solid     <td><i>line type</i>
<tr><td>Frame line width      <td>frameLinewidth=2        <td><i>number</i>
<tr><td>Text colour           <td>textColour=black        <td><i>colour</i>
<tr><td>Show flight levels    <td>flevels=on              <td>on/off
<tr><td>Flight levels colour  <td>flevelsColour=black     <td><i>colour</i>
<tr><td>Flight levels line type<td>flevelsLinetype=solid  <td><i>line type</i>
<tr><td>Flight levels line width 1<td>flevelsLinewidth1=1 <td><i>number</i>
<tr><td>Flight levels line width 2<td>flevelsLinewidth2=3 <td><i>number</i>
<tr><td>Show FL label         <td>labelflevels=on         <td>on/off
<tr><td>Relative size of vertical axis<td>rsvaxis=1      <td><i>number</i>
<tr><td>Text relative size    <td>rstext=1               <td><i>number</i>
<tr><td>P and T numbers relative size<td>rslabels=1       <td><i>number</i>
<tr><td>Wind column width relative size<td>rswind=1   <td><i>number</i>
<tr><td>Vertical wind width relative size<td>rsvwind=1 <td><i>number</i>
<tr><td>Relative humidity width relative size<td>rsrelhum=1<td><i>number</i>
<tr><td>Ducting width relative size<td>rsducting=1<td><i>number</i>
	
<tr><td>Support lines for rel.hum., vert.wind. and ducting line type<td>rangeLinetype=solid <td><i>line type</i>
<tr><td>Support lines for rel.hum., vert.wind. and ducting line width<td>rangeLinewidth=1 <td><i>numbers</i>
<tr><td>Show contrails        <td>cotrails=on             <td>on/off
<tr><td>Contrail colour  <td>cotrailsColour=cyan     <td><i>colour</i>
<tr><td>Contrail line type<td>cotrailsLinetype=solid <td><i>line type</i>
<tr><td>Contrail line width<td>cotrailsLinewidth=3<td><i>number</i>
<tr><td>Contrail P min  <td>cotrailsPmin=100        <td><i>number</i>
<tr><td>Contrail P max  <td>cotrailsPmax=700        <td><i>number</i>
</TABLE>    

	<h3>X-server and Xvfb (bdiana 3.28 and earlier)</h3>
	  Releases of <b>bdiana</b> earlier than version 3.29 require an X-server to run.
      If bdiana is run on a machine with an active X-session, such as a workstation,
      it will automatically use this server.
	  On machines without X or when running without the user being logged in, a 
	  different X-server needs to be set with the <b>-display</b> variable 
	  (<i>host:display-no.screen-no</i>). A good alternative on linux machines is 
	  <b>Xvfb</b> (X virtual framebuffer). For example:
	  <PRE>
          # Starting Xvfb with OpenGL support
          Xvfb :5 -screen 0 1280x1024x24 -ac 
	  </PRE>
	  Here Xvfb is started so that <i>display-no</i> is <b>5</b> and 
	  <i>screen-no</i> is <b>0</b> on the machine hosting the Xvfb framebuffer. 
	  For Xvfb to run in the background even after logging out:
	  <PRE>
          # Xvfb as a background process
          <b>nohup</b> Xvfb :5 -screen 0 1280x1024x24 -ac <b>&</b>
	  </PRE>
	  This is how you can use Xvfb with bdiana - given the above example:
	  <PRE>
          bdiana -input "bdiana.input" -display "host":5.0
	  </PRE>
	  

<br>

<table border="0" cellpadding="3" cellspacing="0" width="100%" >
<tr bgcolor="lightgrey">
<td valign="middle">&nbsp;Diana User Guide: Batch
plotting&nbsp;|&nbsp;
<a href="ug_fileformats.html">Previous: File formats</a>&nbsp;|&nbsp;
<a href="index.html">Index</a></td>
<td valign="middle" align="right"><img src="diana_logo.png" align="right" border="0"></td>
</tr>
</table>

  </body>
</html>








